
create table admin (
    admin_id bigint not null,
    name varchar(255),
    primary key (admin_id)
);

create table attach_file (
   attach_file_id bigint not null,
    sequence integer not null,
    modification_time timestamp,
    registration_time timestamp,
    created_time timestamp,
    extension_name varchar(255),
    file_size integer not null,
    original_name varchar(255),
    stored_name varchar(255),
    stored_path varchar(255),
    primary key (attach_file_id, sequence)
);

create table authorizations (
   auth varchar(255) not null,
    registration_time timestamp,
    user_id bigint not null,
    primary key (user_id, auth)
);

create table cart (
   quantity integer not null,
    product_info_id bigint not null,
    member_id bigint not null,
    primary key (member_id, product_info_id)
);

create table category (
   category_id bigint not null,
    modification_time timestamp,
    registration_time timestamp,
    modifier varchar(255),
    registrant varchar(255),
    delete_yn varchar(255),
    name varchar(255),
    parent_id bigint,
    primary key (category_id)
);

create table comment (
   comment_id bigint not null,
    modification_time timestamp,
    registration_time timestamp,
    content varchar(255),
    member_id bigint,
    review_id bigint,
    primary key (comment_id)
);

create table coupon (
   ctype varchar(31) not null,
    coupon_id bigint not null,
    modification_time timestamp,
    registration_time timestamp,
    modifier varchar(255),
    registrant varchar(255),
    delete_yn varchar(255),
    name varchar(255),
    period integer not null,
    discount_amount integer,
    discount_rate integer,
    primary key (coupon_id)
);

create table delivery (
   delivery_id bigint not null,
    city varchar(255),
    street varchar(255),
    zipcode varchar(255),
    phone_number varchar(255),
    recipient varchar(255),
    requirements varchar(255),
    primary key (delivery_id)
);

create table exchange (
   exchange_id bigint not null,
    acceptance_date timestamp,
    application_date timestamp,
    status varchar(255),
    admin_id bigint,
    order_product_id bigint,
    product_info_id bigint,
    primary key (exchange_id)
);

create table inquiry (
   inquiry_id bigint not null,
    modification_time timestamp,
    registration_time timestamp,
    attach_file_id bigint,
    content varchar(255),
    delete_yn varchar(255),
    inquiry_time timestamp,
    title varchar(255),
    type varchar(255),
    member_id bigint,
    primary key (inquiry_id)
);

create table inquiry_resp (
   attach_file_id bigint,
    content varchar(255),
    delete_yn varchar(255),
    resp_time timestamp,
    inquiry_id bigint not null,
    admin_id bigint,
    primary key (inquiry_id)
);

create table interest_product (
   member_id bigint not null,
    product_id bigint not null,
    primary key (member_id, product_id)
);

create table login_log (
   login_log_id bigint not null,
    ip varchar(255),
    login_fail_reason varchar(255),
    login_id varchar(255),
    login_password varchar(255),
    login_success varchar(255),
    login_time timestamp,
    user_id bigint,
    primary key (login_log_id)
);

create table member (
   city varchar(255),
    street varchar(255),
    zipcode varchar(255),
    birth varchar(255),
    email varchar(255),
    mileage integer not null,
    name varchar(255),
    phone_number varchar(255),
    telephonedms varchar(255),
    member_id bigint not null,
    delivery_id bigint,
    primary key (member_id)
);

create table member_coupon (
   member_coupon_id bigint not null,
    expiration_date timestamp,
    issue_date timestamp,
    usage_status varchar(255),
    coupon_id bigint,
    member_id bigint,
    primary key (member_coupon_id)
);

create table mileage_history (
   mileage_history_id bigint not null,
    accumulation_mileage integer not null,
    status varchar(255),
    usage_time timestamp,
    member_id bigint,
    order_id bigint,
    primary key (mileage_history_id)
);

create table notice (
   notice_id bigint not null,
    modification_time timestamp,
    registration_time timestamp,
    modifier varchar(255),
    registrant varchar(255),
    attach_file_id bigint,
    content varchar(255),
    delete_yn varchar(255),
    title varchar(255),
    admin_id bigint,
    primary key (notice_id)
);

create table notification (
   notification_id bigint not null,
    checkyn varchar(255),
    content varchar(255),
    notification_time timestamp,
    title varchar(255),
    member_id bigint,
    primary key (notification_id)
);

create table order_cancel (
   order_cancel_id bigint not null,
    amount integer not null,
    apply_date timestamp,
    progress varchar(255),
    status varchar(255),
    order_product_id bigint,
    refund_id bigint,
    primary key (order_cancel_id)
);

create table order_product (
   order_product_id bigint not null,
    modification_time timestamp,
    registration_time timestamp,
    amount integer not null,
    discount_price integer not null,
    price integer not null,
    status varchar(255),
    order_id bigint,
    product_info_id bigint,
    primary key (order_product_id)
);

create table orders (
   order_id bigint not null,
    modification_time timestamp,
    registration_time timestamp,
    email varchar(255),
    order_date timestamp,
    orderer varchar(255),
    phone_number varchar(255),
    shipping_amount integer not null,
    status varchar(255),
    total_payment_price integer not null,
    total_price integer not null,
    usage_mileage integer not null,
    delivery_id bigint,
    member_id bigint,
    member_coupon_id bigint,
    primary key (order_id)
);

create table payment (
   payment_id bigint not null,
    modification_time timestamp,
    registration_time timestamp,
    additional_amount integer not null,
    bank varchar(255),
    deposit_amount integer not null,
    depositor varchar(255),
    method varchar(255),
    payment_date timestamp,
    status varchar(255),
    total_amount integer not null,
    order_id bigint,
    primary key (payment_id)
);

create table product (
   product_id bigint not null,
    modification_time timestamp,
    registration_time timestamp,
    modifier varchar(255),
    registrant varchar(255),
    content varchar(255),
    cost integer not null,
    delete_yn varchar(255),
    name varchar(255),
    price integer not null,
    thumbnail varchar(255),
    category_id bigint,
    primary key (product_id)
);

create table product_image (
   sequence integer not null,
    modification_time timestamp,
    registration_time timestamp,
    created_time timestamp,
    file_size bigint,
    original_file_name varchar(255),
    stored_file_name varchar(255),
    stored_path varchar(255),
    product_id bigint not null,
    primary key (product_id, sequence)
);

create table product_info (
   product_info_id bigint not null,
    color varchar(255),
    quantity integer not null,
    size varchar(255),
    product_id bigint,
    primary key (product_info_id)
);

create table recommendation (
   modification_time timestamp,
    registration_time timestamp,
    member_id bigint not null,
    review_id bigint not null,
    primary key (member_id, review_id)
);

create table refund (
   refund_id bigint not null,
    account_number varchar(255),
    amount integer not null,
    bank varchar(255),
    depositor varchar(255),
    method varchar(255),
    reason varchar(255),
    status varchar(255),
    order_id bigint,
    primary key (refund_id)
);

create table return (
   return_id bigint not null,
    registration_date timestamp,
    apply_date timestamp,
    attach_file_id bigint,
    reason varchar(255),
    status varchar(255),
    admin_id bigint,
    order_product_id bigint,
    refund_id bigint,
    primary key (return_id)
);

create table review (
   review_id bigint not null,
    modification_time timestamp,
    registration_time timestamp,
    attach_file_id bigint,
    content varchar(255),
    delete_yn varchar(255),
    rating integer not null,
    member_id bigint,
    product_info_id bigint,
    primary key (review_id)
);

create table users (
   utype varchar(31) not null,
    user_id bigint not null,
    modification_time timestamp,
    registration_time timestamp,
    modifier varchar(255),
    registrant varchar(255),
    delete_yn varchar(255),
    login_id varchar(255),
    login_password varchar(255),
    primary key (user_id)
);

alter table admin
   add constraint FK5wu7m4u6dii7801jnfs4xqvfu
   foreign key (admin_id)
   references users;

alter table authorizations
   add constraint FKmikhd5jkryqpsjnxb9eo6m3cx
   foreign key (user_id)
   references users;

alter table cart
   add constraint FKj8n3578db9m9r1h90v7biwx5f
   foreign key (product_info_id)
   references product_info;

alter table cart
   add constraint FKix170nytunweovf2v9137mx2o
   foreign key (member_id)
   references member;

alter table category
   add constraint FK2y94svpmqttx80mshyny85wqr
   foreign key (parent_id)
   references category;

alter table comment
   add constraint FKmrrrpi513ssu63i2783jyiv9m
   foreign key (member_id)
   references member;

alter table comment
   add constraint FKnf4ni761w29tmtgdxymmgvg8r
   foreign key (review_id)
   references review;

alter table exchange
   add constraint FK2g0c1cbffadn1f9aw60bwkax9
   foreign key (admin_id)
   references admin;

alter table exchange
   add constraint FKgt9v5fbnah22miru3cxlx4lhd
   foreign key (order_product_id)
   references order_product;

alter table exchange
   add constraint FKey3fksqw78y72do7gwa2rtt26
   foreign key (product_info_id)
   references product_info;

alter table inquiry
   add constraint FKf47xlnlpohnc6gd4k511g0wra
   foreign key (member_id)
   references member;

alter table inquiry_resp
   add constraint FKnnmdk87rv3mo416hweyga6hx0
   foreign key (inquiry_id)
   references inquiry;

alter table inquiry_resp
   add constraint FKs25g3v5qko102ojhjnwxd378s
   foreign key (admin_id)
   references admin;

alter table interest_product
   add constraint FK1n2e1x1vcdjdy1qbs3we41atm
   foreign key (member_id)
   references member;

alter table interest_product
   add constraint FKamib887793rlv141g9dpt8ibg
   foreign key (product_id)
   references product;

alter table login_log
   add constraint FKq8smpj42ldwgtjru0fm0q3en8
   foreign key (user_id)
   references users;

alter table member
   add constraint FKqw9jiftlming0ty98i4eci8rl
   foreign key (delivery_id)
   references delivery;

alter table member
   add constraint FKc0mfa3rcppgsf609g4h83klbm
   foreign key (member_id)
   references users;

alter table member_coupon
   add constraint FKkxw7ja7v55gk4a368w3gs6s0j
   foreign key (coupon_id)
   references coupon;

alter table member_coupon
   add constraint FKf8n3lu0dfwmhvcikamg220lgg
   foreign key (member_id)
   references member;

alter table mileage_history
   add constraint FK3b07itxi0asp6r5jt5kw971dj
   foreign key (member_id)
   references member;

alter table mileage_history
   add constraint FKg8xhs480wog85uvoiyvb3jc0h
   foreign key (order_id)
   references orders;

alter table notice
   add constraint FKd816ad20ht41wty5l6f85w8mb
   foreign key (admin_id)
   references admin;

alter table notification
   add constraint FK1xep8o2ge7if6diclyyx53v4q
   foreign key (member_id)
   references member;

alter table order_cancel
   add constraint FKbsvgx3bnlpld0ibpx3w2ph8gy
   foreign key (order_product_id)
   references order_product;

alter table order_cancel
   add constraint FK69ypgyspv0qia5r12iynkhgmg
   foreign key (refund_id)
   references refund;

alter table order_product
   add constraint FKl5mnj9n0di7k1v90yxnthkc73
   foreign key (order_id)
   references orders;

alter table order_product
   add constraint FKp1og08hq3dymqjb4rf163l8ib
   foreign key (product_info_id)
   references product_info;

alter table orders
   add constraint FKtkrur7wg4d8ax0pwgo0vmy20c
   foreign key (delivery_id)
   references delivery;

alter table orders
   add constraint FKpktxwhj3x9m4gth5ff6bkqgeb
   foreign key (member_id)
   references member;

alter table orders
   add constraint FKadhrwt6oyo2mch5cd4ho0tdok
   foreign key (member_coupon_id)
   references member_coupon;

alter table payment
   add constraint FKlouu98csyullos9k25tbpk4va
   foreign key (order_id)
   references orders;

alter table product
   add constraint FK1mtsbur82frn64de7balymq9s
   foreign key (category_id)
   references category;

alter table product_image
   add constraint FK6oo0cvcdtb6qmwsga468uuukk
   foreign key (product_id)
   references product;

alter table product_info
   add constraint FK51m6a4nrmlfdj3o2o69r6wn1q
   foreign key (product_id)
   references product;

alter table recommendation
   add constraint FKk1qbgdq26hj2d7d81fhc9n5k9
   foreign key (member_id)
   references member;

alter table recommendation
   add constraint FKh43spw3hvdjh28pu9kqys2fff
   foreign key (review_id)
   references review;

alter table refund
   add constraint FK80vls36avhp4yl7h8apkqm0ek
   foreign key (order_id)
   references orders;

alter table return
   add constraint FKdjw7i9se15li5dqhxobu7ng3q
   foreign key (admin_id)
   references admin;

alter table return
   add constraint FKth4qao8mq4fie9jw2l2sxgo87
   foreign key (order_product_id)
   references order_product;

alter table return
   add constraint FKt117f2sp50k6nkx536vyjb97m
   foreign key (refund_id)
   references refund;

alter table review
   add constraint FKk0ccx5i4ci2wd70vegug074w1
   foreign key (member_id)
   references member;

alter table review
   add constraint FKsweonbym7i5kda2sct3as1y8q
   foreign key (product_info_id)
   references product_info;Initializing Spring DispatcherServlet 'dispatcherServlet';Initializing Servlet 'dispatcherServlet';Completed initialization in 42 ms;